<div *ngIf="datosCargados" class="card justify-content-center">
	<div class="text-center section-title align-items-center">Perfil</div>

	<div class="flex justify-content-center">
		<img src="./assets/img/perfil.jpg" class="my-3 tamanoFoto" />
	</div>

	<form [formGroup]="formulario" (ngSubmit)="guardarInformacion()">
		<div class="flex justify-content-center">
			<div class="field">
				<label for="nombreUsuario" class="block">Usuario</label>
				<input
					type="text"
					pInputText
					placeholder=""
					[readonly]="true"
					formControlName="nombreUsuario"
				/>
			</div>
		</div>

		<div class="flex justify-content-center">
			<div class="field">
				<label for="sexo" class="block">Sexo</label>
				<input
					type="text"
					pInputText
					placeholder=""
					[readonly]="true"
					formControlName="sexo"
				/>
			</div>
		</div>

		<div class="flex justify-content-center">
			<div class="field">
				<label for="fechaNac" class="block">Fecha de nacimiento</label>
				<input
					type="text"
					pInputText
					placeholder=""
					[readonly]="true"
					formControlName="fechaNac"
				/>
			</div>
		</div>

		<div class="flex justify-content-center">
			<div class="field">
				<label for="peso" class="block">Peso (Kg)</label>
				<input
					type="number"
					pKeyFilter="int"
					pInputText
					placeholder="Peso"
					formControlName="peso"
					(ngModelChange)="cambiarValor(0)"
				/>
				<div
					*ngIf="
						formulario.controls['peso'].invalid &&
						(formulario.controls['peso'].dirty ||
							formulario.controls['peso'].touched)
					"
				>
					<small
						*ngIf="formulario.controls['peso'].errors?.['required']"
						class="p-error block"
						>El campo peso es obligatorio
					</small>
					<small
						class="p-error block"
						*ngIf="formulario.controls['peso'].errors?.['min']"
						>El peso mínimo es de 30Kg
					</small>

					<small
						class="p-error block"
						*ngIf="formulario.controls['peso'].errors?.['max']"
						>El peso máximo es de 300Kg
					</small>
				</div>
			</div>
		</div>

		<div class="flex justify-content-center">
			<div class="field">
				<label for="altura" class="block">Altura (Cm)</label>
				<input
					type="number"
					pKeyFilter="int"
					pInputText
					placeholder="Altura"
					formControlName="altura"
					(ngModelChange)="cambiarValor(0)"
				/>
				<div
					*ngIf="
						formulario.controls['altura'].invalid &&
						(formulario.controls['altura'].dirty ||
							formulario.controls['altura'].touched)
					"
				>
					<small
						*ngIf="formulario.controls['altura'].errors?.['required']"
						class="p-error block"
						>El campo altura es obligatorio
					</small>
					<small
						class="p-error block"
						*ngIf="formulario.controls['altura'].errors?.['min']"
						>La altura mínima es 100 Cms
					</small>

					<small
						class="p-error block"
						*ngIf="formulario.controls['altura'].errors?.['max']"
						>La altura máxima es 300 Cms
					</small>
				</div>
			</div>
		</div>

		<div class="flex justify-content-center">
			<h5 class="tamanoLetra2 my-3">Target de calorías</h5>
		</div>

		<div class="flex justify-content-center">
			<div class="field">
				<input
					type="number"
					pKeyFilter="int"
					pInputText
					placeholder="Calorías"
					formControlName="calorias"
					(input)="cambiarValor2()"
				/>
				<div
					*ngIf="
						formulario.controls['calorias'].invalid &&
						(formulario.controls['calorias'].dirty ||
							formulario.controls['calorias'].touched)
					"
				>
					<small
						*ngIf="formulario.controls['calorias'].errors?.['required']"
						class="p-error block"
						>El campo calorías es obligatorio
					</small>
					<small
						*ngIf="formulario.controls['calorias'].errors?.['min']"
						class="p-error block"
						>Las calorías deben ser mayor a 0
					</small>
				</div>
			</div>
		</div>

		<div class="flex justify-content-center">
			<h5 class="tamanoLetra2 my-3">Objetivo</h5>
		</div>

		<div class="flex justify-content-center">
			<p-button
				label="Disminuir peso"
				[styleClass]="getButtonStyle(1)"
				(click)="toggleButtonState(1); cambiarValor(1)"
			></p-button>
		</div>
		<div class="flex justify-content-center">
			<p-button
				label="Mantener peso"
				[styleClass]="getButtonStyle(2)"
				(click)="toggleButtonState(2); cambiarValor(1)"
			></p-button>
		</div>
		<div class="flex justify-content-center">
			<p-button
				label="Aumentar peso"
				[styleClass]="getButtonStyle(3)"
				(click)="toggleButtonState(3); cambiarValor(1)"
			></p-button>
		</div>

		<div class="flex justify-content-center">
			<h5 class="tamanoLetra2 my-3">Nivel de actividad</h5>
		</div>

		<div class="flex justify-content-center">
			<p-button
				label="Bajo"
				[styleClass]="getButtonStyle2(1)"
				(click)="toggleButtonState2(1); cambiarValor(1)"
			></p-button>
		</div>
		<div class="flex justify-content-center">
			<p-button
				label="Moderado"
				[styleClass]="getButtonStyle2(2)"
				(click)="toggleButtonState2(2); cambiarValor(1)"
			></p-button>
		</div>
		<div class="flex justify-content-center">
			<p-button
				label="Alto"
				[styleClass]="getButtonStyle2(3)"
				(click)="toggleButtonState2(3); cambiarValor(1)"
			></p-button>
		</div>

		<div class="flex justify-content-center">
			<p-button
				icon="pi pi-save"
				type="Submit"
				label="Guardar Información"
				styleClass="p-button-primary my-3"
				[disabled]="formulario.invalid"
			></p-button>
		</div>
	</form>

	<div class="flex justify-content-center">
		<p-button
			icon="pi pi-sign-out"
			label="Cerrar Sesión"
			styleClass="p-button-danger"
			(click)="cerrarSesion()"
		></p-button>
	</div>
</div>
