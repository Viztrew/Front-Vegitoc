<div class="card">
	<div class="text-center section-title align-items-center">Mis recetas</div>
	<div class="flex flex-wrap">
		<div
			class="col-12 sm:col-6 md:col-6 lg:col-4"
			*ngFor="let receta of Recetas"
		>
			<div class="item flex flex-wrap" id="{{ receta.id_preparacion }}">
				<div
					class="col-1 delete-button flex justify-content-center"
					pTooltip="Eliminar"
					tooltipPosition="bottom"
					(click)="showDialogEliminarReceta(receta)"
				>
					<i class="pi pi-times"></i>
				</div>
				<div
					class="img-container align-items-center col-5 sm:col-5 md:col-5 lg:col-5"
				>
					<a
						[routerLink]="
							'/info/receta/' + this.receta.id_preparacion
						"
						cursor-pointer
					>
						<img
							[src]="
								imgRecetaUrl +
								'/' +
								this.receta.id_preparacion +
								'.jpg'
							"
							alt="{{ receta.nombre }}"
							class="info-image shadow-2"
						/>
					</a>
				</div>
				<div
					class="flex align-content-between flex-wrap col-6 sm:col-6 md:col-6 lg:col-6"
				>
					<a
						[routerLink]="
							'/info/receta/' + this.receta.id_preparacion
						"
					>
						<div class="col-12 no-padding">
							<p
								class="font-bold item-title"
								pTooltip="Ver {{ receta.nombre }}"
								tooltipPosition="top"
							>
								{{ receta.nombre }}
							</p>
						</div>
						<div class="col-12 no-padding">
							<p>Kcal porción: {{ receta.kcal_prcn }}</p>
						</div>
					</a>
				</div>
			</div>
		</div>
	</div>

	<div *ngIf="misRecetasTemplate" class="mt-3">
		<div class="flex justify-content-center">
			<i class="pi pi-book" style="font-size: 2.5rem"></i>
		</div>
		<div class="flex justify-content-center">
			<p>Sin recetas propias</p>
		</div>
	</div>
</div>

<p-dialog
	header="Header"
	[(visible)]="dialogEliminarReceta"
	[breakpoints]="{
		'1324px': '25vw',
		'1059px': '30vw',
		'883px': '40vw',
		'575px': '80vw'
	}"
	[modal]="true"
	[style]="{ width: '20vw', height: 'auto' }"
	[draggable]="false"
	[resizable]="false"
	[closable]="false"
>
	<ng-template pTemplate="header">
		<span class="text-xl font-bold text-center"
			>¿Eliminar receta "{{ recetaEliminar.nombre }}"?</span
		>
	</ng-template>

	<ng-template pTemplate="content">
		<p-messages severity="warn" class="p-0">
			<ng-template pTemplate>
				<div class="flex justify-content-center flex-wrap">
					<div class="col-12 p-0 text-center">
						<i
							class="pi pi-info-circle"
							style="font-size: 3rem"
						></i>
					</div>
					<div class="col-12 p-0 text-center">
						<span class="text-center"
							>Esta acción es
							<span class="font-bold">IRREVERSIBLE</span></span
						>
					</div>
				</div>
			</ng-template>
		</p-messages>
	</ng-template>
	<ng-template pTemplate="footer">
		<p-button
			styleClass="p-button-text"
			label="Cancelar"
			(click)="hideDialogEliminarReceta()"
		></p-button>
		<p-button
			label="Confirmar"
			(click)="eliminarReceta(recetaEliminar)"
		></p-button>
	</ng-template>
</p-dialog>
